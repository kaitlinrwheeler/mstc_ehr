@inject EHRApplication.Services.IListService ListService
@model PatientDemographic
@{
    ViewData["Title"] = "Patient Page";
    <link rel="stylesheet" href="~/css/patient.css">

    <script src="~/js/validation.js"></script>
    string space = "       ";
}
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<section class="my-5 w-75" data-bs-theme="auto">

    <div class="card-header" data-bs-theme="auto">
        <h3 class="my-3">Create Patient</h3>
    </div>

    <div class="card-body" data-bs-theme="auto">
        <form method="post" id="patientForm">
            <div class="form-group">
                <label for="FirstName">First Name:</label>
                <input asp-for="firstName" type="text" id="FirstName" name="FirstName" class="form-control" data-bs-theme="auto" onblur="validateRequiredTextInput('FirstName', 25, 'first name')" />
                <span asp-validation-for="firstName" id="FirstNameError" class="validation-msg"></span>
            </div>


            <div class="form-group">
                <label for="MiddleName">Middle Name (optional):</label>
                <input asp-for="middleName" type="text" id="MiddleName" name="MiddleName" class="form-control" data-bs-theme="auto" onblur="validateOptionalTextInput('MiddleName', 25, 'middle name')" />
                <span asp-validation-for="middleName" id="MiddleNameError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="LastName">Last Name:</label>
                <input asp-for="lastName" type="text" id="LastName" name="LastName" class="form-control" onblur="validateRequiredTextInput('LastName', 25,'last name')" data-bs-theme="auto" />
                <span asp-validation-for="lastName" id="LastNameError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="Suffix">Suffix (optional):</label>
                <input asp-for="suffix" type="text" id="Suffix" name="Suffix" class="form-control" data-bs-theme="auto" onblur="validateOptionalTextInput('Suffix', 20,  'suffix')" />
                <span asp-validation-for="suffix" id="SuffixError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label asp-for="DOB">Date of Birth:</label>
                <input asp-for="DOB" type="date" id="DOB" class="form-control" onblur="validateDatePicker('DOB', 'date of birth')" data-bs-theme="auto" required/>
                <span asp-validation-for="DOB" id="DOBError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="PrimaryPhysician">Primary Physician:</label>
                <select data-bs-auto="auto" id="primaryPhysician" class="form-control" name="primaryPhysician" asp-for="primaryPhysician">
                    @foreach (var provider in ListService.GetProviders())
                    {
                        <option value="@provider.providerId.ToString()">
                            @provider.firstName @provider.lastName, @provider.specialty @provider.providerId
                        </option>
                    }
                </select>
                <span asp-validation-for="primaryPhysician" id="PrimaryPhysicianError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="LegalGuardian1">Legal Guardian 1 (optional):</label>
                <input asp-for="legalGuardian1" type="text" id="LegalGuardian1" name="LegalGuardian1" class="form-control" data-bs-theme="auto" onblur="validateOptionalTextInput('LegalGuardian1', 100, 'legal guardian')" />
                <span asp-validation-for="legalGuardian1" id="LegalGuardian1Error" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="LegalGuardian2">Legal Guardian 2 (optional):</label>
                <input asp-for="legalGuardian2" type="text" id="LegalGuardian2" name="LegalGuardian2" class="form-control" data-bs-theme="auto" onblur="validateOptionalTextInput('LegalGuardian2', 100, 'legal guardian')" />
                <span asp-validation-for="legalGuardian2" id="LegalGuardian2Error" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="Religion">Religion (optional):</label>
                <input asp-for="religion" type="text" id="Religion" name="Religion" class="form-control" data-bs-theme="auto" onblur="validateOptionalTextInput('Religion', 100,  'religion')" />
                <span asp-validation-for="religion" id="ReligionError" class="validation-msg"></span>

            </div>

            <div class="form-group">
                <label for="Pronouns">Preferred Pronouns:</label>
                <input asp-for="preferredPronouns" type="text" id="preferredPronouns" name="preferredPronouns" class="form-control" data-bs-theme="auto" onblur="validateRequiredTextInput('Pronouns', 25,  'pronoun')" />
                <span asp-validation-for="preferredPronouns" id="PronounsError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="Gender">Gender:</label>
                <input asp-for="gender" type="text" id="Gender" name="Gender" class="form-control" data-bs-theme="auto" onblur="validateRequiredTextInput('Gender', 25, 'gender')" />
                <span asp-validation-for="gender" id="GenderError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="GenderAssignedAtBirth">Gender assigned at birth:</label>
                <select asp-for="genderAssignedAtBirth" id="GenderAssignedAtBirth" name="GenderAssignedAtBirth" class="form-control" data-bs-theme="auto">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <span asp-validation-for="genderAssignedAtBirth" id="GenderAssignedAtBirthError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="PreferredLanguage">Preferred Language:</label>
                <select asp-for="preferredLanguage" id="PreferredLanguage" name="PreferredLanguage" class="form-control" data-bs-theme="auto">
                    <option value="Arabic">Arabic</option>
                    <option value="Bengali">Bengali</option>
                    <option value="Dutch">Dutch</option>
                    <option value="English">English</option>
                    <option value="French">French</option>
                    <option value="German">German</option>
                    <option value="Hindi">Hindi</option>
                    <option value="Hmong">Hmong</option>
                    <option value="Italian">Italian</option>
                    <option value="Japanese">Japanese</option>
                    <option value="Korean">Korean</option>
                    <option value="Mandarin">Mandarin</option>
                    <option value="Portuguese">Portuguese</option>
                    <option value="Russian">Russian</option>
                    <option value="Spanish">Spanish</option>
                </select>
                <span asp-validation-for="preferredLanguage" id="PreferredLanguageError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="Ethnicity">Ethnicity:</label>
                <select asp-for="ethnicity" id="Ethnicity" name="Ethnicity" class="form-control" data-bs-theme="auto">
                    <option value="African American">African American</option>
                    <option value="Asian">Asian</option>
                    <option value="Caucasian">Caucasian</option>
                    <option value="Other">Other</option>
                    <option value="Unknown">Unknown</option>

                </select>
                <span asp-validation-for="ethnicity" id="EthnicityError" class="validation-msg"></span>
            </div>

            <div class="form-group">
                <label for="Race" class="mb-1">Race:</label>
                <div asp-for="raceList" id="Race" class="row text-nowrap">
                    <!-- Add 'row' class to create a row container -->
                    <div class="col-sm-6">
                        <!-- Create a column for the first half of checkboxes -->
                        <div class="race-column">
                            <input type="checkbox" id="AmericanIndian" name="RaceList" value="American Indian" />
                            <label for="AmericanIndian" style="font-weight: normal;">American Indian</label><br />
                            <input type="checkbox" id="Asian" name="RaceList" value="Asian" />
                            <label for="Asian" style="font-weight: normal;">Asian</label><br />
                            <input type="checkbox" id="Black" name="RaceList" value="Black" />
                            <label for="Black" style="font-weight: normal;">Black</label><br />
                            <input type="checkbox" id="PacificIslander" name="RaceList" value="Native Hawaiian or Other Pacific Islander" />
                            <label for="PacificIslander" style="font-weight: normal;">Pacific Islander</label><br />
                            <input type="checkbox" id="White" name="RaceList" value="White" />
                            <label for="White" style="font-weight: normal;">White</label><br />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <!-- Create a column for the second half of checkboxes -->
                        <div class="race-column">
                            <input type="checkbox" id="Hispanic" name="RaceList" value="Hispanic or Latino" />
                            <label for="Hispanic" style="font-weight: normal;">Hispanic or Latino</label><br />
                            <input type="checkbox" id="MiddleEastern" name="RaceList" value="Middle Eastern" />
                            <label for="MiddleEastern" style="font-weight: normal;">Middle Eastern</label><br />
                            <input type="checkbox" id="MixedRace" name="RaceList" value="Mixed Race" />
                            <label for="MixedRace" style="font-weight: normal;">Mixed Race</label><br />
                            <input type="checkbox" id="OtherRace" name="RaceList" value="Other" />
                            <label for="OtherRace" style="font-weight: normal;">Other</label><br />
                        </div>
                    </div>
                </div>
                <span asp-validation-for="raceList" id="RaceError" class="validation-msg"></span>
            </div>

            <div class="mt-3 d-flex justify-content-center">
                <input type="submit" class="btn blue-button" data-bs-theme="auto" />
            </div>
        </form>
    </div>
</section>